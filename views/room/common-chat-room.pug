extends ./layout

block contentMain
  #meeting-area
    .rec.text-danger.d-none
      .rec-icon.d-inline
      strong REC
    #main-meeting-area.p-1.d-flex
      #main-meeting.p-1.flex-fill
        .wrap-meeting-show.d-flex.ps-rv
          .wrap-my-video.meeting-part
            .ps-as.over-hidden.d-flex.align-items-center.justify-content-center
              img(src="/images/logo-mini.png")
              video(name="video", autoplay, muted, style="display:none")
              .meeting-part-pin-ctrl.justify-content-between.align-items-center.text-primary.px-1
                strong Bạn
                .wrap-pin.text-primary.pin-btn(title="Pin")
                  span.icomoon.icon-arrows-alt
              .mic-frequency
                span.icomoon.icon-mic_off.text-danger
                .wrap-frequency
                  .d-flex.align-items-end
                    .frequency
                    .frequency
                    .frequency
          #meeting-show.flex-wrap.justify-content-center.align-items-center.align-content-center
          .order-first.flex-fill.d-flex
            .wrap-share-screen.flex-fill.ps-rv
              .my-share.d-none
                .d-flex.justify-content-center.align-items-center.ps-as
                  .wrap-my-share.p-4.text-center
                    span.icomoon.icon_screen_share
                    .my-3.my-share-text Bạn đang chia sẻ màn hình cho tất cả mọi người
                    div
                      button.btn.btn-primary.btn-stop-share Dừng chia sẻ
              .them-share.w-100.h-100.d-none
                .d-flex.align-items-center
                  video(autoplay).video-share.w-100.h-auto

            .wrap-meet-pin.flex-fill.ps-rv
      #meeting-control
        .d-flex.justify-content-around.h-100.mx-auto.align-items-center(style="max-width: 1000px")
          .meeting-control-item.ps-rv.wrap-conts
            .open-popup-icon
              span.icomoon.icon-dots-three-vertical
            .wrap-control-meet
              .d-flex.justify-content-center.flex-column
                block subMeetingControl2
                .meeting-control-item.ps-rv.d-md-none
                  .control-show-pop.d-flex.align-items-center(data-control="user")
                    span.icomoon.icon-users
                    sup.amount-participants
                    .ctrl-label Thành viên
                .meeting-control-item.ps-rv.d-md-none
                  .control-show-pop.d-flex.align-items-center(data-control="chat")
                    span.icomoon.icon-chat
                    sup.amount-msg-unread
                    .ctrl-label Chat
                .btn-rec-screen.meeting-control-item.ps-rv.state-off
                  .control-no-show-pop.d-flex.align-items-center
                    span.icomoon.icon-controller-record.text-danger
                    .ctrl-label Quay màn hình (Alt + R)
                .btn-create-text.meeting-control-item.ps-rv
                  .control-no-show-pop.d-flex.align-items-center
                    span.icomoon.icon-file-text
                    .ctrl-label Mở Text
                .btn-raise-hand.meeting-control-item.ps-rv
                  .control-no-show-pop.d-flex.align-items-center
                    span.icomoon.icon-hand
                    .ctrl-label Giơ tay
                .meeting-control-item.ps-rv.d-md-none
                  .control-show-pop.text-info.d-flex.align-items-center(data-control="info")
                    span.icomoon.icon-information
                    .ctrl-label Thông tinh phòng
          #btn-audio-connect.meeting-control-item.ps-rv(data-state="off")
            .popup.special Bật audio (Alt + A)
            .control-no-show-pop
              span.icomoon.icon-mic_off.text-danger
          #btn-video-connect.meeting-control-item.ps-rv(data-state="off")
            .popup Bật camera (Alt + V)
            .control-no-show-pop
              span.icomoon.icon-videocam_off.text-danger
          #btn-share-screen.meeting-control-item.ps-rv(data-state="off")
            .popup Chia sẽ màn hình (Alt + S)
            .control-no-show-pop
              span.icomoon.icon-stop_screen_share.text-danger
          block subMeetingControl
          .meeting-control-item.d-none.d-md-block.ps-rv(data-control="user")
            .popup Thành viên
            .control-show-pop(data-control="user")
              span.icomoon.icon-users
              sup.amount-participants
          .meeting-control-item.d-none.d-md-block.ps-rv
            .popup Chat
            .control-show-pop(data-control="chat")
              span.icomoon.icon-chat
              sup.amount-msg-unread
          //- .btn-rec-screen.meeting-control-item.d-none.d-md-block.ps-rv.state-off
          //-   .popup Quay màn hình (Alt + R)
          //-   .control-no-show-pop
          //-     span.icomoon.icon-controller-record.text-danger
          .meeting-control-item.d-none.d-md-block.ps-rv
            .popup Thông tin phòng
            .control-show-pop.text-info(data-control="info")
              span.icomoon.icon-information
          .meeting-control-item.ps-rv(data-toggle="modal", data-target="#confirm-leave-room-modal")
            .popup Rời phòng
            .control-no-show-pop.text-danger
              span.icomoon.icon-sign-out
      
      #show-control.show-control.no-show
        #chat-area.control-area(data-control="chat")
          .control-area-main.d-flex.flex-column.ps-rv
            .dragzone.d-none
              .d-flex.justify-content-center.align-items-center.h-100.drag-inner
                div
                  .text-center
                    span.icomoon.icon-insert_drive_file
                  h4 Kéo thả tệp vào đây
            .scroll-bottom.text-center
              .has-new-msg Tin nhắn mới
              span.icomoon.icon-circle-down
            .control-area-top.p-1.d-flex.justify-content-between
              button.arrow-smaller.btn.btn-default(data-area="chat")
                span.icomoon.icon-arrow-right
              .align-self-center.control-title Chat
              button.chat-mana-sub.btn-icon.btn.small-btn
                span.icomoon.icon-dots-three-vertical
                span.sr-only Chat manager sub
              .chat-m-sub-box.sub-mana-box.d-none
                .text-center
                  a.sub-mana-item.export-chat-link(href="#", target="_blank")
                    span.icomoon.icon-save
                    span &nbsp;&nbsp;
                    span Lưu chat
                  .sub-mana-item#hide-time-btn(data-status="on")
                    span.icomoon.icon-timer_off
                    span &nbsp;&nbsp;
                    span Ẩn thời gian
            #chat-middle.control-area-middle.flex-fill
            .control-area-bottom.p-1.ps-rv.wrap-chat-input
              .files-upload-box.d-flex.justify-content-center.flex-wrap
              form.d-flex.align-items-center(name="sendMsgForm")
                block subFormChat
              
        //- #users-area.control-area(data-control="user")
        //-   .control-area-main.d-flex.flex-column
        //-     .control-area-top.p-1.d-flex.justify-content-between
        //-       button.arrow-smaller.btn.btn-default(data-area="users")
        //-         span.icomoon.icon-arrow-right
        //-       .align-self-center.control-title Thành viên
        //-       div
        //-     block waitingRoomInfo
        //-     #room-users.control-area-middle.flex-fill

        #info-area.control-area(data-control="info")
          .control-area-main.d-flex.flex-column
            .control-area-top.p-1.d-flex.justify-content-between
              button.arrow-smaller.btn.btn-default(data-area="info")
                span.icomoon.icon-arrow-right
              .align-self-center.control-title Thông tin phòng
              div
            .control-area-middle.flex-fill
              .pl-3
                div
                  span.text-secondary Id phòng: 
                  strong#room-info-name-room
                .mt-2
                  span.text-secondary Mật khẩu: 
                  strong#room-info-password-room
                .text-center
                  input#link-info(type="text")
                  button#copy-info.btn.btn-link.btn-sm Copy link

        block subControlArea
  
  block subArea
  
append scripts
  script(src="/socket.io/socket.io.js")
  block chatScript
